{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//functions for HTTP запитів\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\naxios.defaults.params = {\r\n  key: \"52056130-db9fbcb72f3bb5afb21255a47\",\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  safesearch: true,\r\n};\r\n\r\nexport default function getImageByQuery(query) {\r\n  return axios\r\n    .get(\"\", { params: { q: query } })\r\n    .then((response) => response.data.hits);\r\n}\r\n","// створити екземляр сімпл лайт бокс для роботи з модальним вікном\r\n\r\n// Описаний у документації\r\nimport SimpleLightbox from \"simplelightbox\";\r\n// Додатковий імпорт стилів\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\nconst gallery = document.querySelector(\".gallery\");\r\nconst loader = document.querySelector(\".loader\");\r\nlet lightbox = null;\r\n\r\nexport function createGallery(images) {\r\n  const htmlToInsert = images\r\n    .map(\r\n      (image) =>\r\n        `<div class=\"card\">\r\n              <a href=${image.largeImageURL}><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-images\"></a>\r\n              <div class=\"info\">\r\n                <p class=\"name\">Likes<span class=\"value\">${image.likes}</span></p>\r\n                <p class=\"name\">Views<span class=\"value\">${image.views}</span></p>\r\n                <p class=\"name\">Comments<span class=\"value\">${image.comments}</span></p>\r\n                <p class=\"name\">Downloads<span class=\"value\">${image.downloads}</span></p>\r\n              </div>\r\n            </div>`\r\n    )\r\n    .join(\"\");\r\n  gallery.insertAdjacentHTML(\"beforeend\", htmlToInsert);\r\n\r\n  if (!lightbox) {\r\n    lightbox = new SimpleLightbox(\".gallery a\", {\r\n      captionsData: \"alt\",\r\n      captionDelay: 250,\r\n    });\r\n  } else {\r\n    lightbox.refresh();\r\n  }\r\n}\r\n\r\nexport function clearGallery() {\r\n  gallery.innerHTML = \"\";\r\n  //очищає вміст контейнера галереї. нічого не повертає\r\n}\r\n\r\nexport function showLoader() {\r\n  loader.classList.add(\"is-visible\");\r\n  //додає клас для відображення лоадера. нічого не повертає\r\n}\r\n\r\nexport function hideLoader() {\r\n  loader.classList.remove(\"is-visible\");\r\n  //прибирає клас для відображення лоадера. нічого не повертає\r\n}\r\n","import getImageByQuery from \"./js/pixabay-api\";\r\nimport {\r\n  createGallery,\r\n  clearGallery,\r\n  showLoader,\r\n  hideLoader,\r\n} from \"./js/render-functions\";\r\n\r\nimport iziToast from \"izitoast\";\r\n// Додатковий імпорт стилів\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nconst searchInput = document.querySelector(\".search-input\");\r\nconst form = document.querySelector(\".form\");\r\n\r\nform.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  clearGallery();\r\n\r\n  if (!searchInput.value) {\r\n    alert(\"Введіть слово для пошуку\");\r\n    return;\r\n  }\r\n  showLoader();\r\n  const query = searchInput.value.toLowerCase();\r\n  //query - пошукове слово, РЯДОК// 1) робимо  ннтп запит і повертаємо значення властивості data з отриманої відповіді сервера\r\n  getImageByQuery(query)\r\n    .then((images) => {\r\n      if (images.length === 0) {\r\n        iziToast.error({\r\n          title: \"Oops\",\r\n          message:\r\n            \"Sorry, there are no images matching your search query. Please try again!\",\r\n          position: \"topRight\",\r\n        });\r\n        return;\r\n      }\r\n      createGallery(images);\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n      iziToast.error({\r\n        title: \"Error\",\r\n        message: \"Something went wrong. Try again later!\",\r\n        position: \"topRight\",\r\n      });\r\n    })\r\n    .finally(() => {\r\n      // Сховати лоадер після завершення запиту\r\n      hideLoader();\r\n    });\r\n});\r\n"],"names":["axios","getImageByQuery","query","response","gallery","loader","lightbox","createGallery","images","htmlToInsert","image","SimpleLightbox","clearGallery","showLoader","hideLoader","searchInput","form","event","iziToast","err"],"mappings":"owBAGAA,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,CACtB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEe,SAASC,EAAgBC,EAAO,CAC7C,OAAOF,EACJ,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGE,CAAK,EAAI,EAChC,KAAMC,GAAaA,EAAS,KAAK,IAAI,CAC1C,CCTA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAeD,EAClB,IACEE,GACC;AAAA,wBACgBA,EAAM,aAAa,cAAcA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2DAEpCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA,mBAGzE,EACA,KAAK,EAAE,EACVN,EAAQ,mBAAmB,YAAaK,CAAY,EAE/CH,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC7BR,EAAQ,UAAY,EAEtB,CAEO,SAASS,GAAa,CAC3BR,EAAO,UAAU,IAAI,YAAY,CAEnC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,OAAO,YAAY,CAEtC,CCtCA,MAAMU,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAU,CAIzC,GAHAA,EAAM,eAAc,EACpBL,IAEI,CAACG,EAAY,MAAO,CACtB,MAAM,0BAA0B,EAChC,MACD,CACDF,IACA,MAAMX,EAAQa,EAAY,MAAM,YAAW,EAE3Cd,EAAgBC,CAAK,EAClB,KAAMM,GAAW,CAChB,GAAIA,EAAO,SAAW,EAAG,CACvBU,EAAS,MAAM,CACb,MAAO,OACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDX,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAOW,GAAQ,CACd,QAAQ,MAAMA,CAAG,EACjBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAEbJ,GACN,CAAK,CACL,CAAC"}